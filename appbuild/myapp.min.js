var app=angular.module("InfoScreen",["ngResource","googleApi"]).config(["googleLoginProvider",function(e){e.configure({clientId:"301251250276-igdiqg8a5f7v1ph352lis9gu0mo5k4kj.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/calendar","https://www.googleapis.com/auth/plus.login"]})}]);app.controller("GoogleCalendarController",["$scope","googleLogin","googleCalendar","googlePlus",function(e,t,n,o){e.login=function(){t.login()},e.$on("googlePlus:loaded",function(){o.getCurrentUser().then(function(t){e.currentUser=t})}),e.currentUser=t.currentUser,e.loadEvents=function(){this.calendarItems=n.listEvents({calendarId:this.selectedCalendar.id})},e.loadCalendars=function(){e.calendars=n.listCalendars()}}]),app.controller("RescueTimeController",["$http","$timeout",function(e,t){function n(){e.get(r).success(function(e){o.efficiency=e.rows[0][4]}),t(function(){n()},36e5)}var o=this,r="https://www.rescuetime.com/anapi/data?format=json&key=B63DVYfBySQpGWQDw_ruIIa7mGeNtHBuHKQRekCF&perspective=interval&rs=day&rk=efficiency&callback=JSON_CALLBACK";n()}]),app.controller("RuterController",["$resource","$timeout",function(e,t){function n(){r.get({id:3010610}).$promise.then(function(e){o.departures=e}),t(function(){n()},6e4)}var o=this,r=e("//reis.trafikanten.no/ReisRest/RealTime/GetRealTimeData/:id",{callback:"JSON_CALLBACK"},{get:{method:"JSONP",isArray:!0}});n()}]).filter("fromNow",function(){return function(e){return moment(e).fromNow(!0)}}).filter("direction",function(){return function(e,t){var n=[];return angular.forEach(e,function(e){e.DirectionName===t&&n.length<5&&n.push(e)}),n}}),app.controller("TimeController",["$timeout",function(e){function t(){n.currentTime=Date.now(),e(function(){t()},1e3)}var n=this;t()}]),app.controller("WeatherController",["$http","$timeout",function(e,t){function n(){e.get(o).success(function(e){var t="",n=e.weather[0].icon.substr(0,2);r.desc=e.weather[0].main+" ("+e.weather[0].description+")",r.temp=Math.round(e.main.temp),r.sunrise=moment(e.sys.sunrise,"X").format("HH:mm"),r.sunset=moment(e.sys.sunset,"X").format("HH:mm"),r.time=moment(e.dt,"X").format("HH:mm");var o=e.dt>e.sys.sunrise&&e.dt<e.sys.sunset?"day":"night";"01"===n?t="wi-"+o+"-clear":"02"===n?t="wi-"+o+"-overcast":"03"===n?t="wi-"+o+"-cloudy":"04"===n?t="wi-cloudy":"09"===n?t="wi-showers":"11"===n?t="wi-thunderstorm":"13"===n?t="wi-snow":"50"===n&&(t="wi-fog"),r.icon=t}),t(function(){n()},36e5)}var o="//api.openweathermap.org/data/2.5/weather?q=Oslo&units=metric",r=this;n()}]);